---
// content args
---

<div class="scroll-container">
  <div class="scroll-section">
    <div class="square0"></div>
    <p>Section 1</p>
  </div>
  <div class="scroll-section">
    <div class="square1"></div>
    <p>Section 2</p>
  </div>
  <div class="scroll-section">
    <div class="square2"></div>
    <p>Section 3</p>
  </div>
  <div class="scroll-section">
    <div class="square3"></div>
    <p>Section 4</p>
  </div>
</div>

<!-- <div class="scroll-container scroll-y ">
  <div class="scroll-content grid square-grid">
    <div class="scroll-section padded">
      <div class="large row">
        <div class="label">scroll down</div>
      </div>
    </div>
    <div class="scroll-section padded">
      <div class="large row">
        <div class="square"></div>
      </div>
    </div>
    <div class="scroll-section">
    </div>
  </div>
</div> -->

<style>
  .scroll-container {
    /* Set container to fill the viewport height */
    height: 100vh;
    /* Enable vertical scrolling */
    overflow-y: auto;
    /* This is the key property for enabling scroll snapping */
    scroll-snap-type: y mandatory;
  }

  .scroll-section {
    /* This makes each section a snap target */
    scroll-snap-align: start;
    /* Make each section fill the container's height */
    height: 100vh;
    width: 100%;

    /* Centering content for demonstration */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3rem;
    color: white;
  }

  /* Different background colors to show the snapping effect */
  .scroll-section:nth-of-type(1) {
    background-color: #4285f4;
  }
  .scroll-section:nth-of-type(2) {
    background-color: #db4437;
  }
  .scroll-section:nth-of-type(3) {
    background-color: #f4b400;
  }
  .scroll-section:nth-of-type(4) {
    background-color: #0f9d58;
  }

  .square0 {
    height: 40px;
    width: 40px;
    background-color: rgb(232, 232, 232);
    mix-blend-mode: difference;
  }
  .square1 {
    height: 40px;
    width: 40px;
    background-color: rgb(232, 232, 232);
    mix-blend-mode: difference;
  }
  .square2 {
    height: 80px;
    width: 80px;
    background-color: rgb(232, 232, 232);
    mix-blend-mode: difference;
  }

  .square3 {
    height: 40px;
    width: 40px;
    background-color: rgb(232, 232, 232);
    mix-blend-mode: difference;
  }

  .swing-in-bottom-bck {
    /* -webkit-animation: swing-in-bottom-bck 0.6s cubic-bezier(0.175, 0.885, 0.320, 1.275) both; */
    animation: swing-in-bottom-bck 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)
      both;
  }

  /* ----------------------------------------------
 * Generated by Animista on 2025-7-3 12:32:36
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

  /**
 * ----------------------------------------
 * animation swing-in-bottom-bck
 * ----------------------------------------
 */
  /* @-webkit-keyframes swing-in-bottom-bck {
  0% {
    -webkit-transform: rotateX(-70deg);
            transform: rotateX(-70deg);
    -webkit-transform-origin: bottom;
            transform-origin: bottom;
    opacity: 0;
  }
  100% {
    -webkit-transform: rotateX(0);
            transform: rotateX(0);
    -webkit-transform-origin: bottom;
            transform-origin: bottom;
    opacity: 1;
  }
} */
  @keyframes swing-in-bottom-bck {
    0% {
      -webkit-transform: rotateX(-70deg);
      transform: rotateX(-70deg);
      -webkit-transform-origin: bottom;
      transform-origin: bottom;
      opacity: 0;
    }
    100% {
      -webkit-transform: rotateX(0);
      transform: rotateX(0);
      -webkit-transform-origin: bottom;
      transform-origin: bottom;
      opacity: 1;
    }
  }
</style>

<script>
  import { animate, onScroll } from "animejs";

  animate(".square0", {
    x: "15rem",
    rotate: "1turn",
    ease: "linear",
    autoplay: onScroll({
      container: ".scroll-container",
      enter: "bottom-=50 top",
      leave: "top+=60 bottom",
      sync: true,
      debug: true,
    }),
  });

  animate(".square1", {
    x: "15rem",
    rotate: "2turn",
    ease: "linear",
    autoplay: onScroll({
      container: ".scroll-container",
      enter: "bottom-=50 top",
      leave: "top+=60 bottom",
      sync: true,
      debug: true,
    }),
  });

  animate(".square2", {
    rotateX: 45,
    rotateZ: 190,
    // perspective: 2,
    // rotateY: 30,
    // transformOrigin: 'bottom',
    ease: 'cubicBezier(0.175, 0.885, 0.320, 1.275)',
    autoplay: onScroll({
      container: ".scroll-container",
      enter: "bottom-=50 top",
      leave: "top+=60 bottom",
      sync: true,
      debug: true,
    }),
  });

  animate(".square3", {
    x: "15rem",
    rotate: "3turn",
    ease: "linear",
    autoplay: onScroll({
      container: ".scroll-container",
      enter: "bottom-=50 top",
      leave: "top+=60 bottom",
      sync: true,
      debug: true,
    }),
  });
</script>
